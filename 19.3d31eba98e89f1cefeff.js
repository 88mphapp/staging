(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{HRdN:function(t,e,n){"use strict";n.r(e),(function(t){n.d(e,"default",(function(){return a}));var r=n("pn0g"),o=n("qPxQ"),s=(n("kB5k"),n("o8pB"));function i(e){return t.from(e.startsWith("0x")?e.slice(2):e,"hex")}function h(t){return t?i(t):null}class a{constructor(t,e="w0w"){this.transport=void 0,this.transport=t,t.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","starkGetPublicKey","starkSignOrder","starkSignTransfer","starkProvideQuantum"],e)}getAddress(e,n,o){let s=Object(r.b)(e),i=t.alloc(1+4*s.length);return i[0]=s.length,s.forEach((t,e)=>{i.writeUInt32BE(t,1+4*e)}),this.transport.send(224,2,n?1:0,o?1:0,i).then(t=>{let e={},n=t[0],r=t[1+n];return e.publicKey=t.slice(1,1+n).toString("hex"),e.address="0x"+t.slice(1+n+1,1+n+1+r).toString("ascii"),o&&(e.chainCode=t.slice(1+n+1+r,1+n+1+r+32).toString("hex")),e})}provideERC20TokenInformation({data:t}){return this.transport.send(224,10,0,0,t).then(()=>!0,t=>{if(t&&27904===t.statusCode)return!1;throw t})}signTransaction(e,n){let i,h=Object(r.b)(e),a=0,l=t.from(n,"hex"),c=[],g=Object(s.decode)(l),p=0;if(g.length>6){let t=Object(s.encode)(g.slice(-3));p=l.length-(t.length-1)}for(;a!==l.length;){let e=0===a?149-4*h.length:150,n=a+e>l.length?l.length-a:e;0!=p&&a+n==p&&n--;let r=t.alloc(0===a?1+4*h.length+n:n);0===a?(r[0]=h.length,h.forEach((t,e)=>{r.writeUInt32BE(t,1+4*e)}),l.copy(r,1+4*h.length,a,a+n)):l.copy(r,0,a,a+n),c.push(r),a+=n}return Object(r.a)(c,(t,e)=>this.transport.send(224,4,0===e?0:128,0,t).then(t=>{i=t})).then(()=>({v:i.slice(0,1).toString("hex"),r:i.slice(1,33).toString("hex"),s:i.slice(33,65).toString("hex")}),t=>{throw(t=>t&&27264===t.statusCode?new o.a("Please enable Contract data on the Ethereum app Settings"):t)(t)})}getAppConfiguration(){return this.transport.send(224,6,0,0).then(t=>{let e={};return e.arbitraryDataEnabled=1&t[0],e.erc20ProvisioningNecessary=2&t[0],e.starkEnabled=4&t[0],e.version=t[1]+"."+t[2]+"."+t[3],e})}signPersonalMessage(e,n){let o,s=Object(r.b)(e),i=0,h=t.from(n,"hex"),a=[];for(;i!==h.length;){let e=0===i?149-4*s.length-4:150,n=i+e>h.length?h.length-i:e,r=t.alloc(0===i?1+4*s.length+4+n:n);0===i?(r[0]=s.length,s.forEach((t,e)=>{r.writeUInt32BE(t,1+4*e)}),r.writeUInt32BE(h.length,1+4*s.length),h.copy(r,1+4*s.length+4,i,i+n)):h.copy(r,0,i,i+n),a.push(r),i+=n}return Object(r.a)(a,(t,e)=>this.transport.send(224,8,0===e?0:128,0,t).then(t=>{o=t})).then(()=>({v:o[0],r:o.slice(1,33).toString("hex"),s:o.slice(33,65).toString("hex")}))}signEIP712HashedMessage(e,n,o){const s=i(n),h=i(o);let a=Object(r.b)(e),l=t.alloc(1+4*a.length+32+32,0),c=0;return l[0]=a.length,a.forEach((t,e)=>{l.writeUInt32BE(t,1+4*e)}),c=1+4*a.length,s.copy(l,c),c+=32,h.copy(l,c),this.transport.send(224,12,0,0,l).then(t=>({v:t[0],r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkGetPublicKey(e,n){let o=Object(r.b)(e),s=t.alloc(1+4*o.length);return s[0]=o.length,o.forEach((t,e)=>{s.writeUInt32BE(t,1+4*e)}),this.transport.send(240,2,n?1:0,0,s).then(t=>t.slice(0,t.length-2))}starkSignOrder(e,n,o,s,i,a,l,c,g,p,u){const d=h(n),f=h(s);let S=Object(r.b)(e),E=t.alloc(1+4*S.length+20+32+20+32+4+4+8+8+4+4,0),b=0;return E[0]=S.length,S.forEach((t,e)=>{E.writeUInt32BE(t,1+4*e)}),b=1+4*S.length,d&&d.copy(E,b),b+=20,t.from(o.toString(16).padStart(64,"0"),"hex").copy(E,b),b+=32,f&&f.copy(E,b),b+=20,t.from(i.toString(16).padStart(64,"0"),"hex").copy(E,b),b+=32,E.writeUInt32BE(a,b),b+=4,E.writeUInt32BE(l,b),b+=4,t.from(c.toString(16).padStart(16,"0"),"hex").copy(E,b),b+=8,t.from(g.toString(16).padStart(16,"0"),"hex").copy(E,b),b+=8,E.writeUInt32BE(p,b),b+=4,E.writeUInt32BE(u,b),this.transport.send(240,4,1,0,E).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkSignTransfer(e,n,o,s,a,l,c,g,p){const u=h(n),d=i(s);let f=Object(r.b)(e),S=t.alloc(1+4*f.length+20+32+32+4+4+8+4+4,0),E=0;return S[0]=f.length,f.forEach((t,e)=>{S.writeUInt32BE(t,1+4*e)}),E=1+4*f.length,u&&u.copy(S,E),E+=20,t.from(o.toString(16).padStart(64,"0"),"hex").copy(S,E),E+=32,d.copy(S,E),E+=32,S.writeUInt32BE(a,E),E+=4,S.writeUInt32BE(l,E),E+=4,t.from(c.toString(16).padStart(16,"0"),"hex").copy(S,E),E+=8,S.writeUInt32BE(g,E),E+=4,S.writeUInt32BE(p,E),this.transport.send(240,4,2,0,S).then(t=>({r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}))}starkProvideQuantum(e,n){const r=h(e);let o=t.alloc(52,0);return r&&r.copy(o,0),t.from(n.toString(16).padStart(64,"0"),"hex").copy(o,20),this.transport.send(240,8,0,0,o).then(()=>!0,t=>{if(t&&27904===t.statusCode)return!1;throw t})}}}).call(this,n("tjlA").Buffer)},pn0g:function(t,e,n){"use strict";function r(t){let e=[];return t.split("/").forEach(t=>{let n=parseInt(t,10);isNaN(n)||(t.length>1&&"'"===t[t.length-1]&&(n+=2147483648),e.push(n))}),e}function o(t,e){return Promise.resolve().then(()=>function t(n,r,o){return n>=r.length?o:e(r[n],n).then((function(e){return o.push(e),t(n+1,r,o)}))}(0,t,[]))}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}))}}]);