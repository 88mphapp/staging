!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{HRdN:function(r,e,o){"use strict";o.r(e),(function(r){o.d(e,"default",function(){return l});var i=o("pn0g"),a=o("qPxQ"),c=(o("kB5k"),o("o8pB")),s={eth:1,erc20:2,erc721:3,erc20mintable:4,erc721mintable:5};function u(t){return r.from(t.startsWith("0x")?t.slice(2):t,"hex")}function h(t){return t?u(t):null}var l=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w0w";t(this,e),this.transport=void 0,this.transport=n,n.decorateAppAPIMethods(this,["getAddress","provideERC20TokenInformation","signTransaction","signPersonalMessage","getAppConfiguration","signEIP712HashedMessage","starkGetPublicKey","starkSignOrder","starkSignOrder_v2","starkSignTransfer","starkSignTransfer_v2","starkProvideQuantum","starkProvideQuantum_v2","starkUnsafeSign","eth2GetPublicKey","eth2SetWithdrawalIndex"],r)}var o,l,f;return o=e,(l=[{key:"getAddress",value:function(t,n,e){var o=Object(i.b)(t),a=r.alloc(1+4*o.length);return a[0]=o.length,o.forEach(function(t,n){a.writeUInt32BE(t,1+4*n)}),this.transport.send(224,2,n?1:0,e?1:0,a).then(function(t){var n={},r=t[0],o=t[1+r];return n.publicKey=t.slice(1,1+r).toString("hex"),n.address="0x"+t.slice(1+r+1,1+r+1+o).toString("ascii"),e&&(n.chainCode=t.slice(1+r+1+o,1+r+1+o+32).toString("hex")),n})}},{key:"provideERC20TokenInformation",value:function(t){var n=t.data;return this.transport.send(224,10,0,0,n).then(function(){return!0},function(t){if(t&&27904===t.statusCode)return!1;throw t})}},{key:"signTransaction",value:function(t,n){var e,o=this,s=Object(i.b)(t),u=0,h=r.from(n,"hex"),l=[],f=Object(c.decode)(h),g=0,p="";if(f.length>6){var d=Object(c.encode)(f.slice(-3));g=h.length-(d.length-1);var v=f[6],S=r.alloc(4);v.copy(S,4-v.length),p=(2*S.readUInt32BE(0)).toString(16).slice(0,-2)}for(var y=function(){var t=0===u?149-4*s.length:150,n=u+t>h.length?h.length-u:t;0!=g&&u+n==g&&n--;var e=r.alloc(0===u?1+4*s.length+n:n);0===u?(e[0]=s.length,s.forEach(function(t,n){e.writeUInt32BE(t,1+4*n)}),h.copy(e,1+4*s.length,u,u+n)):h.copy(e,0,u,u+n),l.push(e),u+=n};u!==h.length;)y();return Object(i.a)(l,function(t,n){return o.transport.send(224,4,0===n?0:128,0,t).then(function(t){e=t})}).then(function(){return{v:p+e.slice(0,1).toString("hex"),r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}},function(t){throw function(t){return t&&27264===t.statusCode?new a.a("Please enable Contract data on the Ethereum app Settings"):t}(t)})}},{key:"getAppConfiguration",value:function(){return this.transport.send(224,6,0,0).then(function(t){var n={};return n.arbitraryDataEnabled=1&t[0],n.erc20ProvisioningNecessary=2&t[0],n.starkEnabled=4&t[0],n.starkv2Supported=8&t[0],n.version=t[1]+"."+t[2]+"."+t[3],n})}},{key:"signPersonalMessage",value:function(t,n){for(var e,o=this,a=Object(i.b)(t),c=0,s=r.from(n,"hex"),u=[],h=function(){var t=0===c?149-4*a.length-4:150,n=c+t>s.length?s.length-c:t,e=r.alloc(0===c?1+4*a.length+4+n:n);0===c?(e[0]=a.length,a.forEach(function(t,n){e.writeUInt32BE(t,1+4*n)}),e.writeUInt32BE(s.length,1+4*a.length),s.copy(e,1+4*a.length+4,c,c+n)):s.copy(e,0,c,c+n),u.push(e),c+=n};c!==s.length;)h();return Object(i.a)(u,function(t,n){return o.transport.send(224,8,0===n?0:128,0,t).then(function(t){e=t})}).then(function(){return{v:e[0],r:e.slice(1,33).toString("hex"),s:e.slice(33,65).toString("hex")}})}},{key:"signEIP712HashedMessage",value:function(t,n,e){var o=u(n),a=u(e),c=Object(i.b)(t),s=r.alloc(1+4*c.length+32+32,0),h=0;return s[0]=c.length,c.forEach(function(t,n){s.writeUInt32BE(t,1+4*n)}),h=1+4*c.length,o.copy(s,h),h+=32,a.copy(s,h),this.transport.send(224,12,0,0,s).then(function(t){return{v:t[0],r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}})}},{key:"starkGetPublicKey",value:function(t,n){var e=Object(i.b)(t),o=r.alloc(1+4*e.length);return o[0]=e.length,e.forEach(function(t,n){o.writeUInt32BE(t,1+4*n)}),this.transport.send(240,2,n?1:0,0,o).then(function(t){return t.slice(0,t.length-2)})}},{key:"starkSignOrder",value:function(t,n,e,o,a,c,s,u,l,f,g){var p=h(n),d=h(o),v=Object(i.b)(t),S=r.alloc(1+4*v.length+20+32+20+32+4+4+8+8+4+4,0),y=0;return S[0]=v.length,v.forEach(function(t,n){S.writeUInt32BE(t,1+4*n)}),y=1+4*v.length,p&&p.copy(S,y),y+=20,r.from(e.toString(16).padStart(64,"0"),"hex").copy(S,y),y+=32,d&&d.copy(S,y),y+=20,r.from(a.toString(16).padStart(64,"0"),"hex").copy(S,y),y+=32,S.writeUInt32BE(c,y),y+=4,S.writeUInt32BE(s,y),y+=4,r.from(u.toString(16).padStart(16,"0"),"hex").copy(S,y),y+=8,r.from(l.toString(16).padStart(16,"0"),"hex").copy(S,y),y+=8,S.writeUInt32BE(f,y),y+=4,S.writeUInt32BE(g,y),this.transport.send(240,4,1,0,S).then(function(t){return{r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}})}},{key:"starkSignOrder_v2",value:function(t,n,e,o,a,c,u,l,f,g,p,d,v,S,y){var w=h(n),E=h(c);if(!(e in s))throw new Error("eth.starkSignOrderv2 invalid source quantization type="+e);if(!(u in s))throw new Error("eth.starkSignOrderv2 invalid destination quantization type="+u);var x=Object(i.b)(t),b=r.alloc(1+4*x.length+1+20+32+32+1+20+32+32+4+4+8+8+4+4,0),k=0;return b[0]=x.length,x.forEach(function(t,n){b.writeUInt32BE(t,1+4*n)}),k=1+4*x.length,b[k]=s[e],k++,w&&w.copy(b,k),k+=20,o&&r.from(o.toString(16).padStart(64,"0"),"hex").copy(b,k),k+=32,a&&r.from(a.toString(16).padStart(64,"0"),"hex").copy(b,k),b[k+=32]=s[u],k++,E&&E.copy(b,k),k+=20,l&&r.from(l.toString(16).padStart(64,"0"),"hex").copy(b,k),k+=32,f&&r.from(f.toString(16).padStart(64,"0"),"hex").copy(b,k),k+=32,b.writeUInt32BE(g,k),k+=4,b.writeUInt32BE(p,k),k+=4,r.from(d.toString(16).padStart(16,"0"),"hex").copy(b,k),k+=8,r.from(v.toString(16).padStart(16,"0"),"hex").copy(b,k),k+=8,b.writeUInt32BE(S,k),k+=4,b.writeUInt32BE(y,k),this.transport.send(240,4,3,0,b).then(function(t){return{r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}})}},{key:"starkSignTransfer",value:function(t,n,e,o,a,c,s,l,f){var g=h(n),p=u(o),d=Object(i.b)(t),v=r.alloc(1+4*d.length+20+32+32+4+4+8+4+4,0),S=0;return v[0]=d.length,d.forEach(function(t,n){v.writeUInt32BE(t,1+4*n)}),S=1+4*d.length,g&&g.copy(v,S),S+=20,r.from(e.toString(16).padStart(64,"0"),"hex").copy(v,S),S+=32,p.copy(v,S),S+=32,v.writeUInt32BE(a,S),S+=4,v.writeUInt32BE(c,S),S+=4,r.from(s.toString(16).padStart(16,"0"),"hex").copy(v,S),S+=8,v.writeUInt32BE(l,S),S+=4,v.writeUInt32BE(f,S),this.transport.send(240,4,2,0,v).then(function(t){return{r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}})}},{key:"starkSignTransfer_v2",value:function(t,n,e,o,a,c,l,f,g,p,d,v,S){var y=h(n),w=u(c),E=h(v);if(!(e in s))throw new Error("eth.starkSignTransferv2 invalid quantization type="+e);var x=Object(i.b)(t),b=r.alloc(1+4*x.length+1+20+32+32+32+4+4+8+4+4+(E?52:0),0),k=0;return b[0]=x.length,x.forEach(function(t,n){b.writeUInt32BE(t,1+4*n)}),k=1+4*x.length,b[k]=s[e],k++,y&&y.copy(b,k),k+=20,o&&r.from(o.toString(16).padStart(64,"0"),"hex").copy(b,k),k+=32,a&&r.from(a.toString(16).padStart(64,"0"),"hex").copy(b,k),k+=32,w.copy(b,k),k+=32,b.writeUInt32BE(l,k),k+=4,b.writeUInt32BE(f,k),k+=4,r.from(g.toString(16).padStart(16,"0"),"hex").copy(b,k),k+=8,b.writeUInt32BE(p,k),k+=4,b.writeUInt32BE(d,k),E&&S&&(k+=4,r.from(S.toString(16).padStart(64,"0"),"hex").copy(b,k),k+=32,E.copy(b,k)),this.transport.send(240,4,E?5:4,0,b).then(function(t){return{r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}})}},{key:"starkProvideQuantum",value:function(t,n){var e=h(t),o=r.alloc(52,0);return e&&e.copy(o,0),r.from(n.toString(16).padStart(64,"0"),"hex").copy(o,20),this.transport.send(240,8,0,0,o).then(function(){return!0},function(t){if(t&&27904===t.statusCode)return!1;throw t})}},{key:"starkProvideQuantum_v2",value:function(t,n,e,o){var i=h(t);if(!(n in s))throw new Error("eth.starkProvideQuantumV2 invalid quantization type="+n);var a=r.alloc(84,0),c=0;return i&&i.copy(a,c),c+=20,e&&r.from(e.toString(16).padStart(64,"0"),"hex").copy(a,c),c+=32,o&&r.from(o.toString(16).padStart(64,"0"),"hex").copy(a,c),this.transport.send(240,8,s[n],0,a).then(function(){return!0},function(t){if(t&&27904===t.statusCode)return!1;throw t})}},{key:"starkUnsafeSign",value:function(t,n){var e,o=u(n),a=Object(i.b)(t),c=r.alloc(1+4*a.length+32);return c[0]=a.length,a.forEach(function(t,n){c.writeUInt32BE(t,1+4*n)}),e=1+4*a.length,o.copy(c,e),this.transport.send(240,10,0,0,c).then(function(t){return{r:t.slice(1,33).toString("hex"),s:t.slice(33,65).toString("hex")}})}},{key:"eth2GetPublicKey",value:function(t,n){var e=Object(i.b)(t),o=r.alloc(1+4*e.length);return o[0]=e.length,e.forEach(function(t,n){o.writeUInt32BE(t,1+4*n)}),this.transport.send(224,14,n?1:0,0,o).then(function(t){var n={};return n.publicKey=t.slice(0,-2).toString("hex"),n})}},{key:"eth2SetWithdrawalIndex",value:function(t){var n=r.alloc(4,0);return n.writeUInt32BE(t,0),this.transport.send(224,16,0,0,n).then(function(){return!0},function(t){if(t&&27904===t.statusCode)return!1;throw t})}}])&&n(o.prototype,l),f&&n(o,f),e}()}).call(this,o("tjlA").Buffer)},pn0g:function(t,n,r){"use strict";function e(t){var n=[];return t.split("/").forEach(function(t){var r=parseInt(t,10);isNaN(r)||(t.length>1&&"'"===t[t.length-1]&&(r+=2147483648),n.push(r))}),n}function o(t,n){function r(t,e,o){return t>=e.length?o:n(e[t],t).then(function(n){return o.push(n),r(t+1,e,o)})}return Promise.resolve().then(function(){return r(0,t,[])})}r.d(n,"b",function(){return e}),r.d(n,"a",function(){return o})}}])}();